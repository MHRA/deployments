apiVersion: v1
kind: Namespace
metadata:
  labels:
    istio-injection: enabled
  name: doc-index-updater
---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: doc-index-updater
  namespace: doc-index-updater
---
apiVersion: rbac.authorization.k8s.io/v1beta1
kind: Role
metadata:
  name: argo-rbac
  namespace: doc-index-updater
rules:
- apiGroups:
  - '*'
  resources:
  - '*'
  verbs:
  - '*'
---
apiVersion: rbac.authorization.k8s.io/v1beta1
kind: RoleBinding
metadata:
  name: argo-rbac-1
  namespace: doc-index-updater
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: Role
  name: argo-rbac
subjects:
- kind: ServiceAccount
  name: argocd-server
  namespace: argocd
---
apiVersion: rbac.authorization.k8s.io/v1beta1
kind: RoleBinding
metadata:
  name: argo-rbac-2
  namespace: doc-index-updater
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: Role
  name: argo-rbac
subjects:
- kind: ServiceAccount
  name: argocd-application-controller
  namespace: argocd
---
apiVersion: v1
kind: Service
metadata:
  labels:
    app: doc-index-updater
  name: doc-index-updater
  namespace: doc-index-updater
spec:
  ports:
  - name: http
    port: 80
    targetPort: 8000
  selector:
    app: doc-index-updater
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: doc-index-updater
  namespace: doc-index-updater
spec:
  replicas: 1
  selector:
    matchLabels:
      app: doc-index-updater
  template:
    metadata:
      annotations:
        sidecar.istio.io/proxyCPU: 50m
      labels:
        app: doc-index-updater
    spec:
      containers:
      - env:
        - name: SERVICE_BUS_MESSAGE_LOCK_TIMEOUT
          value: "20"
        - name: REDIS_SERVER
          value: doc-index-updater-non-prod.redis.cache.windows.net
        - name: REDIS_PORT
          value: "6379"
        - name: REDIS_KEY
          valueFrom:
            secretKeyRef:
              key: key
              name: redis-creds
        - name: AZURE_SEARCH_INDEX
          value: products-index
        - name: AZURE_API_ADMIN_KEY
          valueFrom:
            secretKeyRef:
              key: api_key
              name: search-creds
        - name: AZURE_SEARCH_API_VERSION
          value: "2019-05-06"
        - name: AZURE_SEARCH_WORD_FUZZINESS
          value: "0"
        - name: AZURE_SEARCH_EXACTNESS_BOOST
          value: "4"
        - name: SENTINEL_SFTP_SERVER
          valueFrom:
            secretKeyRef:
              key: server
              name: sentinel-creds
        - name: SENTINEL_SFTP_USERNAME
          valueFrom:
            secretKeyRef:
              key: user
              name: sentinel-creds
        - name: SENTINEL_PRIVATE_KEY_PASSWORD
          valueFrom:
            secretKeyRef:
              key: private_key_password
              name: sentinel-creds
        - name: SENTINEL_PUBLIC_KEY_PATH
          value: /etc/.ssh/id_rsa.pub
        - name: SENTINEL_PRIVATE_KEY_PATH
          value: /etc/.ssh/id_rsa
        - name: SERVICE_BUS_NAMESPACE
          value: doc-index-updater-non-prod
        - name: SEARCH_SERVICE
          value: mhraproductsnonprod
        - name: RUST_LOG
          value: doc_index_updater=debug
        - name: PARS_UPLOAD_SITE_ORIGIN
          value: https://mhraparsnonprod.azureedge.net
        - name: CREATE_QUEUE_NAME
          value: doc-index-updater-create-queue
        - name: CREATE_QUEUE_POLICY_NAME
          value: doc-index-updater-create-auth
        - name: CREATE_QUEUE_POLICY_KEY
          valueFrom:
            secretKeyRef:
              key: create_key
              name: service-bus-creds
        - name: CREATE_QUEUE_POLICY_KEY
          valueFrom:
            secretKeyRef:
              key: create_key
              name: service-bus-creds
        - name: DELETE_QUEUE_NAME
          value: doc-index-updater-delete-queue
        - name: DELETE_QUEUE_POLICY_NAME
          value: doc-index-updater-delete-auth
        - name: DELETE_QUEUE_POLICY_KEY
          valueFrom:
            secretKeyRef:
              key: delete_key
              name: service-bus-creds
        - name: DELETE_QUEUE_POLICY_KEY
          valueFrom:
            secretKeyRef:
              key: delete_key
              name: service-bus-creds
        - name: STORAGE_ACCOUNT
          valueFrom:
            secretKeyRef:
              key: account
              name: storage-creds
        - name: STORAGE_CONTAINER
          valueFrom:
            secretKeyRef:
              key: container
              name: storage-creds
        - name: STORAGE_CONTAINER_TEMPORARY
          valueFrom:
            secretKeyRef:
              key: container_temporary
              name: storage-creds
        - name: STORAGE_MASTER_KEY
          valueFrom:
            secretKeyRef:
              key: key
              name: storage-creds
        - name: BASIC_AUTH_USERNAME
          valueFrom:
            secretKeyRef:
              key: username
              name: basic-auth-creds
        - name: BASIC_AUTH_PASSWORD
          valueFrom:
            secretKeyRef:
              key: password
              name: basic-auth-creds
        - name: LOG_STORAGE_CONTAINER
          valueFrom:
            secretKeyRef:
              key: container
              name: logs-storage-creds
        - name: LOG_STORAGE_ACCOUNT
          valueFrom:
            secretKeyRef:
              key: account
              name: logs-storage-creds
        - name: LOG_STORAGE_MASTER_KEY
          valueFrom:
            secretKeyRef:
              key: key
              name: logs-storage-creds
        image: mhraproductsnonprodregistry.azurecr.io/products/doc-index-updater@sha256:db3e31d6164f795e1d54f28677dad2ecddc56be68a7ba231ef7900f48f5626ee
        livenessProbe:
          httpGet:
            path: /healthz
            port: 8000
          initialDelaySeconds: 5
          periodSeconds: 20
          timeoutSeconds: 30
        name: doc-index-updater
        ports:
        - containerPort: 8000
        readinessProbe:
          httpGet:
            path: /healthz
            port: 8000
          initialDelaySeconds: 5
          periodSeconds: 15
          timeoutSeconds: 30
        resources:
          limits:
            cpu: "1"
            memory: 1Gi
          requests:
            cpu: 100m
            memory: 200Mi
        volumeMounts:
        - mountPath: /etc/.ssh
          name: sftp-keys
          readOnly: true
      serviceAccountName: doc-index-updater
      volumes:
      - name: sftp-keys
        secret:
          items:
          - key: public_key
            path: id_rsa.pub
          - key: private_key
            path: id_rsa
          secretName: sentinel-creds
---
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  creationTimestamp: null
  name: basic-auth-creds
  namespace: doc-index-updater
spec:
  encryptedData:
    password: AgCi/aaj96zxWntWbmtr5QxVpweAhvJbw+1Cwt2t/2AcWOAqGweQye/BQ/+NHNQPxKNcCd73E975kNLMzMLApvtaOLIV+WGK4Ml+sA/Dbp6CdM8Emu/c0nvV7DW48f4voRDfF2LxyMZWbYteYNhGHgKAnXkgkVlth7RYTA+s2h4pyRUv92ORP1DZHKb3YT+smFz5fdnz4FXaYwyLt+BuEZ/+rJQzSX0NJYFs+NAhn4+RqEnJoNCvkCYbbRQq4M+JO0YhFmUvZ6/WW3+df2QfJn7X8uzBTYAhafjN/RXs9jCg7FBlha7tA1HqJHecpGFsrw3MNhFU9Ego7znsysjkGcIEfRBNJwAaIcqDROLqqGBC9D/d/0Zr2xjZoPRIDuQ29bpZI12bRTw50ZCimMRnMS4gZNtNmy/9FuG+kD8N1gU0b9+XueYqS4lOQqytsAUSIQmQbxljhFCqifUhW6S63DGyrrbvcnTlLpU4SkwG3FPsfnXQCg90p7l318MAOKwMciwlRRlLNosKhZIF8qQ7xPIZm+BKsN4oGtw03vya4xHYE94SNKFtOQ2zMQLmcau1dg9M7Q+XR/Atz3wlJp12RM5vJnliGwM+kAaS0aY+J3GY26JVXbu53GAlc6cX7cDK7jhnN8Z1628Dveb7/NTJp7WUiED1D2EaMjUIcCe0IRkNRpg69kA3NkDLUAe3edsH31GhL3vXGnIPklz344144yEoUpUAKfz8
    username: AgCF+kKLlzIo5qKnLqKfn6RAYRUJmmp9uKLEFgNNelIv4I1LhfQ+77eOhgsWzYS4aWD+Q+rcov+q7ph9PoLh8nw83g3Kv3rzs1UIwhjn+FqfhU18qXR5dlm+G2PmCXRMDtCfo5u0UtCH5jrYhO5S8yWz8CJd07PEk/ePbl+uNM+SoyCPrxDpOAL2IOKEchAn69CIQsrHboZdiWUeHyRsrxKmoYv6AxzgjzizSHOu5k/T0bG5iVBi1ZQrW2eiNUHtmDKmzIpxMEFPcL9VAlTk5J2DkEoMhTLPw1jqoP65iNfNwrWr2SSOjv5GZMAgNiXw9BMEonoGSt1W8e5MaZ5/8evKrkfXytpZaT0sYW7+/72b7xEz7V821PKU5qNieVxtaVA8NJTKCdAHOehGHqmaYJa71z0hb/pEFJB5w15c5Ze411vOdI6VKvcTbi2ERhVKXY34DVFEUEdYOhHQawyMsWjqnK+78cccJCF3MU6M5S4nM3IOWxB1nx3R+UwjqJOwO4r9T5qvIaJ2OHlRL0yiHy2XzxM73t0XAGsLmhe0ylxoaPRGJR0HBluc1iPYK69+kqnXCM0JT83fY73iQJzq845WsDyycFqDlrVhFeG015zajqJOYH56o7qwjgFUYaStbuA6QEYYF30kQq8b+87tbJ94j8L1NEDTIPdF5Nr4OurQJNKn71dbS288L7cm/QIvihtKpj4z4631iCWWNbE=
  template:
    metadata:
      creationTimestamp: null
      name: basic-auth-creds
      namespace: doc-index-updater
status: {}
---
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  creationTimestamp: null
  name: logs-storage-creds
  namespace: doc-index-updater
spec:
  encryptedData:
    account: AgDKoeQFozG+aaLkfS0sEBbzyCPrT1FYIbqKPELYpAyA4/oPx2wDbIeLuvSuAKqbIYQr0H81BPQ5I+nCDmV21FEHodF6Zo4TAt9trQzM8QoArccwu8kL7pRzafy097C3u4ENa8jMuTkt1NWFL+eu6obMadUtgQxQ1aYNhYal5FKmD441d0SZMgBfu3RXyYKEZ6oG0ywXQnWx+OYKarQK7Xb5SSuc8IHAQOUvyTKfzU/G+R6TozlTJRCPoKCjutRYsMueUsOLxP+D8rMJ28Yr4DXyGtmqyU/nm2ktevOo7VGCexfBMOjAqBLbgmeo0NFMtcunCHuwNCuZNqCRm4CNwA0yEh3bU8AdUvVZ3Z/QYveV1P9kzcrY7wTDtmuZ5lAv3oUhoverHeBTdulwy7HU/98le5KD2QtTpF0eLmOzlayvQmME330vXQ4CFvW+KDgakWP/seTH2wnvD+XFzx1XhWO1uMjZ4co/qm4Fa7WXv8XtXLgMlgb/43roBW/2zFQA6GZzb0oWvB6dmaRMpR1hXb9BJqrAC3rsKagjvKqwWkAU7h9x7TWSntKfVuUyGMFE83JylT3/1Veqit6/qmwTscPURi4C7HQeor9YR3c/clOdCZGQyNx4Xv3Js9qHa1C5l+BcNBNUXWEyBYT/vhgUtuixQ+060S5SIKqP0bU2UXV0R+vRCxVmq91nPhML/P4FS3OjzLEasJjBrsk8QDTy8Kg=
    container: AgC1c23+0KGU+CiJLXWV0klFOHqSFrwEtCGedyH12opIxS7slcszhPTb725EySn2ZEryscWFN/modI1h3JzUTMk8QhSgJzNVYuWUR5n09ufZJu60ha+q5pvhCWNE1QWmN86NhI4Z4AM6aZEXJMA5RFw4OsXOqaSAPaHYxuao4XL2ln5WnuGC7EP8YqS9IDrWT4JsRFUMSlW9itsjS7QmfYDa9sv1rmzNKnxi+2tiZFtVD+zsCaVvtYLfTGuRtQjn5RnFO9kwZ5tRUsLH6wjLl4zaFMUCEnQRLTOBTIDuq+MTz9IdmAOxd5xH7IqQrHutVcQn31a2Pgl1Ymxki88He9wKsttp2ZtNK1X1NnOH+RLi4nd1syYyE4ie1nP9TBBw5eNHFarJYzY6MhZu/BOQgM/WZRSDNxaLwTdd7uiT8zz07j94o+MLNgGeBHQchR+7EMFjWAWhzjhTN+TNvyUxmoGFb56OKHfDEfI99j/Uzd45xJ0MsLFWzXWWz/4DdrSLGzc1AVabn+5IDHoggXwpO0oXpciNfJPWsnAIGGLOVmbJRIfQv6A7hlIVzwT4UKSAvC/1BBgsRCxh/NdujceQI6y2EclFNAxGuJHmZxdPJcJEbPlyF5rA6EkIW1HblaqBmD1QGT7Ivnr3b3QdKM/S4HAJPHVcTZiNocbNhAThydx8Huf2KZtINqaNmhsDVp92mEvNdiFE8paUfdjDtCUoqwa1
    key: AgCRi01pBwww2H4rrpzCoPRLlz32TOM9eLgs5pmw3UIhHwVNI2+XNCrLPiotD0JLGDL3sIPrjgx2UHvCE+P+ij2WjT2am2JxJTT+FqGT/p350mu/lTwg69A+93P3OKrKACiZ2q842rIcbkrVYVKHwFSgNnw5dyQZNJ/hkgJA6qAoBQxTZXjt+uOkFYPLj/0DdDBCNIj/ceDZ04XAIn8FgEqjVHcgQzAJnMeQvTb3jyG6A80TneyGhraT80o9mmT/Yun2HyDHwFb5PB/FDOgHuKkZEgRIvFDaZaZrR131i9On8A+0wlDQ+WaU2cEWXOPLK5R01pSJoaCK1Kaq3M+HUN7dQQQh7/YrL3PM4zv6e+kBEjQHeQWo2aivcRxRuVg8uC1h8+czDFP641GdUglvtzuki84C7FoW5sIp88BSyRv7D3vZey/qOUq+sf9b4ts9G3Tk1UOrDpZ8hPXklmgGAO6U/EPbGy3Uin2gDiDfwOHXkNzRPJxjAi2sHD7wD9WfM5RbjsSmChmXY85kexEtbiNug8nuB/Y/n56YEHvc4QsBDkjtCTBPSgVeEgpDonVEYhWEy3gq7A+E0lR1SomfEDDEXm81zH9ahrJ0TZlUhgn/oqsTM4bvn8mNBnVBcirCfR2I77hxo8RziLsgunI4X9+ctzaWUzhISIhhhwH4n6pNe1gvlpYrcJzHiGOOwxCnGn1WAiY+hb+HLK7uu2UiEHGbGG9xRI0pVZwLymEy/rJMPiiiCdAbOv6nzEdI0Kzvz3bs1bSWp+KL5AnxIH/vdPKXJjw+qSqHIp6IKnaprQMJm6cPnzpv9xsM
  template:
    metadata:
      creationTimestamp: null
      name: logs-storage-creds
      namespace: doc-index-updater
status: {}
---
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  creationTimestamp: null
  name: redis-creds
  namespace: doc-index-updater
spec:
  encryptedData:
    key: AgAXXcGjGuRezvocFH22xRQB9d83+y1ZVSSUWHNc7SDil/sycyGtxtKCiYF9D3BPzqDXYt7AVVECVh1lg8t//W8uPGu0yIGHHcjU+zMQCMgvpqvmrcvFFLKUmcxRXrLeV1bUhNdAJVkbePbLGBuhh3wwnZw9ghpb2y7ovYQMMgLmo8quZiVMkf342hAIB9lon9TYa6gjIc/q0HrorY/dMDVytgC+0r5M7kWEtV9SiwXHlK8Str4f6dA1AEX6RMim88gYTHo2o+KpJAr+dmFW2IaQmNCxSNB1Af+7gj62LxX5ZZeTA9X/4IsElWEWjnS/ikN13YsbkFPsc+yu/3sgj0/QL+PBS+grW2hVaGA/x/E/2A9u6B0dXwmTnOfmbCJwQOEVYLml5HjZoWA33JAUH5JbvGgLmPFSOqiw9dWf3YXS7OAYNYJoT/DoICAt9D+6/x8lBDM3VFcWZKPY56ktSq1eJji2Kx1i8QvoQquwmd693NEATxVgNf+/F1A25KxpS+UUQVlXMeIxlz7+fXH3Hx1wxxM/fmhIHSYjjKKdF73mjwkH+WKpu0nbk9rfxTrgnSyouTDx6jV9EcmQMlAKy/E1x1N0WE1kHk1/IK0L6fEczQPEhJBVfzzgYyhPWNZAyZflW/G5m9uxJPSuR125p0bhw8qkB4QnJqXQcxBoEp5dlcMe1Vtjm+AleZpl/jR9cZGWRDH4Vwvx7eVKRLBrlbXQPcY9jmWcNXEuJZYb+FB+JwkIFNPAqoRFEvaO2g==
  template:
    metadata:
      creationTimestamp: null
      name: redis-creds
      namespace: doc-index-updater
status: {}
---
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  creationTimestamp: null
  name: search-creds
  namespace: doc-index-updater
spec:
  encryptedData:
    api_key: AgAK/6eWerH46t+TwW5FStX7C9NgVbw7qYo45I1Vel7oiz+NU7KDSvZNnn8MpYV0no1qHmVDguetELtgV6Zsd7NIBOj07q43iIc2+1SI3FESjLrFyWecr+xfdFd7/JqiiDXhNawJmL7ZKqxuXIxdWNdZaarFtycpJMs5bCLLWTNn1tmaoStJT/SMF9d/RFq69C5XdB+l0FIxYSQidsFN2MAYuYoA3dsRUcmpbqGpo0Um19B5ix3eeCmTGg+tPf12NUY2IEESJyBfyB4ipwGGGtlScLXO6eRrri/aA2h8qbVMrC3MU6FXrfDO6BDDGimj8WJjAGNhkglVm1/yQjpwe3UzJo6D5Ds48rM5qzmj4s5fWw+F2Jj+I+jExnjIXkI2X0/1/p5tQ7Vqx8Epa3Bzivv36JXBYq+qclEgdmwD6+zpfly3DR9D6LgnT9O8i761f4PhZGgYk76P45Q7Q2ysjOe86sYMTn7KDaDBr7PEpwEwUhDdrOQ83eEXAS7W9YOpHHdXmyT0NV2+v1wSD9NtXfF2K+UqPu6FCwUB48bBTTT3YfYFQAWj8Ko73Shw1OKt56VM8496YkWggI8IOMP7HR1PIcxmUm+ADxE81en72Dv+1qrZkJo7x/5lFjruuapmWBshWhWwFJrOonT/pjc+0kzbRVwOjEvpyB4uuGlIZgZu1fKNN3I9mYyC3AIFx5gx2plDQwHMrV+/wNJHel25tHBybpXdR6fIjK2/N/0+aOUiqw==
  template:
    metadata:
      creationTimestamp: null
      name: search-creds
      namespace: doc-index-updater
status: {}
---
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  creationTimestamp: null
  name: sentinel-creds
  namespace: doc-index-updater
spec:
  encryptedData:
    private_key: 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
    private_key_password: AgDDziYSzkjRMpORDOD/tJHq8l2s2+/SanybKvo4R7MyIxsnMXN1EiwoS58+Il7nMoBbI1sgB7/6qwFnEm+oZEUBUKuiF9Ej/wJpccxorM5bwFGQJ1tJP0INZ3DJ5TleBewVRtXqlSC4HzoYhet3dg7IPnUeMEu3LDKxRvr0QRrDPTbLzHyGL6pGooMPVRFPhACQZHadwjajYdrbgBtoONxttRYdMOzRXKEBPjf+DNQUttZck7JJAMPLxnoc8YTXKBlVhg711B+uDi03OoRk068tvi3MPefOyuDLM5U0n6N9SUpUidyvlSzT9ucfrWUwc/estw+pkLxv5aKShU8/u8FACLfNutoBT444fkNoneGuNs04xtPBcdYTf+PNnOBsKDJAt5vLCCT3QoJR9qiYJVlV+lxHPY+Ayi5JFfqNCYm9Jg0BUqrYPZmFhEQDoLUqNTwHEsqNbSNlLwnQ7OGs2k40RBn0qzIbLocGEcB7syf58q3ml68jNwgoOFz7ZqxlJ20EYHJlOTfW0gYllLvOWi4H6Sqj9ybSSDe5wOtZzeVlqfiZtvFxvBWTNmHpeqF7fChpc6BYn3XIO4Az0xdNX77w84fteQVXMtlBLJRW1KW7pX/MWUCZkLjLkBUhZS3MNy5aClFXR392ufNsnQ+5PBwGKNJZgT43soVTI6fWW/PNjJ6oS2RM7UPYNLtxPHoSrC/pDrvam9iO3ud7LzTECPtb+kkLO0Nz1g==
    public_key: AgACBVL+DXiT1InEpo8BoJ5kpO5/QgXbElmBYRVbdY0Un5ec4Z9y6dbTauMWE7Ci/tD7AS1B4bNlZO4N30otZ1VQ1yV/v/FXTRbus1HZl31/8s2aHCHnPTjOfpx3VcIcCPSVa9UZeaAyUDgXr0KZPfBxqMwoOkFSgisv18Uxm9ClD2v9qp4yQkMdgd5wJoMOfsQik/QMfxeZBymHn2t03FXQ8TbExC+3CCAIGpwIkuYNmxvnYRkFF5uaBOJdj9AKcXyiGOdszFeQPJH+E6ajV713KMdqZpruGCeez+baVWH0FEzCmvt/elKIWr6yz8wnC75R5KE9O86vwVWUBfMr5tS+dDycA6d6y3oZitOuLpycFtuOdwur032qTrjWGsJLnqLjDOYHFiUNpOVru3sVjJ+z6NyZAXy6nX+rPbXTUpBKrVKJSpTruU52Uh5qIcPNhBiaJTunz7ogAJ/O4WOYfXMnVqpd28hV8SssM7QR4eH2PaNo+0qze++rqY7ooJLBF00ymqMI9nyFpZ4rxXdJhtRiC4V/Q3OoARyNCa6xGudNhqSq9U9glJjNZLQZp0hJcY9OZ1ARWlSVWow1mrs4thoAGWHiusRj1DWkjm6ns9hHZ0fUhXROPNViuZfOWpY7Aupg/Qxvr6ObngwHvG6Jl2kDTkOwXM12qmj+YDEEVjkJC1qxgJNxRwf8wsSGyiqJCIozPa6BePbvcBa831JnGmEU7Z/SmOu2N3kIcgpea/GSEfACnnPq0pwCAKG6Mnz3/DUXQZyO9H+DeAvc7HYlBFlqgYfZF4sIOZZ1/ztF/lgJtHefzGUO8QIBPYsGZZtinvBMNFRN10f0cJoJ5rVvlctsVjL/dFex7MyPZusZXkls3z5KJibEto/WRcomAMbvGBBlEPiBOFg0GZm1JDSJC/0QaQvU7YZ7X/P58j37smJ++lwP9W4MN2MSmOZBoa1Xu1PQE0BPo+9sA0saVx6IMCrswXFoP5dYtiHj4W8VjuoZTs9cds9T9k9zFKlSVDTYruxZ89TeHFBBi3BvF5LOt+D0yuQQO80OGsheqz11NZaNy5PSG8ozlHKVXLBjRXFvubjYj3n6TBVm1845h7G323KPFqMo09a78JzuI4+g/8CYpqIe7Us1/7yFLC626tGJ49T7nZRj3p1l5tsKu3alqj1My03lyGL7cdkPqsP3oinLKKwaKHTIqNgA8mHbOaf3zC4hxNzoJ9gf216vOeDq+2axzMrm12b+UQ7D+IivP0LUNfA4XucICp3tPic5Ex5ihUbT41F3FxjgJ+q8jrFOD+OQhsLBpXh1/vJdJhvcEUQoEUJ+iVpkeretVdRN4h+Hq8W9KYkPkHv5mA/8b/AYs3WgnrM7JdPwpCp/Gy42IHjsPPvUh+CkteJDN+TQ/Ji3mR5Hz3Lqq2mq7ZRpHKKtZ1fgEn2LIOBR5k4yB8VXeTCuxsGqFFt3hS61HUE=
    server: AgB9Tz1d0lL7va7sAtDR2GdQhCoEBn3l/4j7hsdRoUdc6Rmay4Y2zXn4vwj1Se9ib8lzJFfBVPWu0K2FYoFnGBLBTfeCRKsx18l9k5zmBtQ2Y/SqnEHoAk5LKH79bhbhXwZ4hUKQBZAgz0TWUNRg9fj+LDzw3XPP351uUJYs6e6tjxTkXttBKLA3tdp54DOm8xYAKf9ziunLU3kNS9gUEQZb75jRZ1HsrvG0TPHwuW3FUea09o3igtiep1KmY8ZxJNbG6/Cg1QZ5tLywdopGycgfe+ctBxrRWHERjRUtRi0DpFMmWWBT2XBEc3wkpRIAmdKFTUU1W4RXFJTeYWdOr5NLyI/rcG2yRK9cecC4xnZ/50OvEmDqvT0BxzRzfk0s99jRsmtbYr0RFGncGk7PcOLzV33xFKtQlsRwEyoCzfTCphXjU3KA72rB8m2LQyxvtQF2drr7joMljK5KGw5xGfiO8NuJoIkqrpk8H3JkZ3l0uEUXRwx44K6mzIVbPHb23/c+amSY0inqsRmcwg1MbQiTd4s6oX9ARC7Ae1ap3tLMKIYc/0WwJG3qzad6I9pqNqqwzYHRoJfm7meP5uL/QUoiQa5NkxEOO1EVgiwjB4+mJ5JVn2WTntbhdS6Djo6mL8rbLFMRirZl4iKw5USdIeP85MSyiKPEcUkVXTIRcpjizaZURgUK2+wJjCw4cDzLTdtpr2mY89t6dXbGBi/S
    user: AgBBiewDg/jfGDjGBE87FUYylPvHnM8zq5E1chb7C1NPpRku5xP8fS4z3CxoIv/rsBlb7PbTqzKGj1SXHPVlzCx52dEGujwU8ot9yPbxU6MYvoxTa3uBdxZ3cbyejh8jwF2X6hznJZUfOeZuRW6TIZoJz2qKG/rZHJF44Gzo1kveviPYXxOmBx0/3YTeD9gd1dx38AfYlcoP1jYz8/OO8USma41dF7Z8SlAoKN2oSzRj1oeVWnO7ajsL+9ntAizGssnDmYvZwkvYdbYG1u9mzWo1VE1VmvfA1TGEEi++Gl78RsJhbM6i+vJVu8LBrA4swTqNxR84XG8Z8/1oLRN/ZRCLoHR+MUcUA5DX7NGEBb11rHuLxEEXEZwSklTwyjIAn/PgZHhjdU4tnPnwdLDnN8MhRIKOBy3xsjrg6K1Zs2lQaYL8YOY0NH7l4djFBM76NRwI14QU+A6CqQ5SmFDKd5V+JdYTd8yYmrz311GXqOrZIt5zKxL34k/GeM8uuuWe08YrcfzT3sE9AjMOx+U5yiwybjNiwqCqnuKz6vYiqe4f49soUipOxHQUr/1cMlTef+rkjWbxA/xNN4hbRDmB7dVMxyE8py+dwxx3KLQP/EatnpJouhlIlJAYYDgAJja1/5VcGsUsoKf4RsJpfvPc3aA6lmTOLKihqqIVNGrSw6G10lnCa2biXJUUbqUB3G1qGmP98CR5//Cy5RlFzCBo
  template:
    metadata:
      creationTimestamp: null
      name: sentinel-creds
      namespace: doc-index-updater
status: {}
---
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  creationTimestamp: null
  name: service-bus-creds
  namespace: doc-index-updater
spec:
  encryptedData:
    create_key: AgAcIPadFXKOZN4XSB0i5JmWTVm9PfsFOBQJiHSMOclu+j3nnd1VT+WD+Oucdaw4QwLKCGL4zP7I7iFWxlli1WV6JIrTDdkzqapJpB/t0H+IWwHdo4rW13ILJ6EqpaSWHsZryvVGJ44YwGpBP7eeFB90i/+desGiAnPV8Ait1Ubo5TFWxXKPDzkGtGgueWx1ixTY2Is/Xq7NgTEBSR4ubSgI+d9fM2C0LU7hNRG+byPdDUcGm9Scfd2/58bQGjffZr8PAx9FDjsnCdqk1441tTJb1dZdiKX4ExXvfzje5cN4gPktj7LEMacD2xS4rc/xIgZoQpUHd02VA2f8/em+biXMjlBs1JUhsIWo6NzESe4OjTdfgb3rRhxv3awOdjMVlo/gp/GTGEcDq1XgOrmNCipPfEmuqzL9z16IEDNR5PwasDxaDUuzJpAhTg1mrD/H3ysbyK6R6PtCtogEBtUz/4xLroJ3U54DZtD481S6N5jqVkhmesW15yYZX6IuQojbZhS8Q0SR6CckDkRxPpDpcOMsghmdpREbgU+8URC8mtL1lkkEMYEXJ0tKOyOqty5tDzdy9HivPb2tKFjyBYkjGrv1Jx7Bohkw9keU97MedRnKLKcH6RARaOJ+GKFbD4aphZYo0WYN57Czq4VPsNH3UkdBH7lbJJvjBS1Upvs0ay92zUzHMgwsZL1/oGcquIroI44bsawidBi8Oe3wYnZC/NfSwEGMjm0F1T+2exlq/92m08HAqYVClQXDDvso+g==
    delete_key: AgCG3eEacMHq1shZO+HOE6icrO5EllE2bfwLeF7l7LnBytuNsLZ/v0rqFmpYVz1eHpMOF4KD4PrR0OgQR4du2RCtKwy/esTD+o5XzgGNNPdbSWIEbbtvKhdzDLOC/1jf2/kUt/jz3eAr7CplyWpReSzUg9G9Nv+uSHe/Je+SIvVCznv7272xgmqVCNowNfVWa8eXoMJbTC7xHtVpdOpDfPuV6LKTBSoDcrnCE+NROSzuAD5jaWNSacK0w3qQYE5ovsCPT9Q8Kojdv2igU1a8ufz+cOEJ43JBcvmu5tiaKb31PvxR3qF0Y7K8ILGhl+lrqnDNFvZ8ZOnhHXoAwVlJ2RMSNYBDEcpy//uJML6hCmucpGN3aFM/oqYSibx4c7CaBOOB1c75/cXzktnoPxhxk/X/jGSotGQKZKQSx3QTWs5CnO61bC+Dj05gRjCKfZJt+280idPPFqJA04tAiBySUFZk7O7809re0OHck3S4eXivqmf3YP7vUVL98ULZY2Mqb+BaSPW6enQ/tOHAFc/GYW74X/I+iDV0CTFhm9+y9EqPuEupjBDLpO+TAJFthSUsQa2v1yHFYCh3rj9DpWIYCC6xZlFJqvEk7vtfBf3f1mD9C+knCuCa4FWgi1cFP4yHz9pniwP2NWcSbcMKlLQkL3keY4bhHIPH7UWYLejbdi5RjLKj34N9juCJICXkJoBnWcGHjf00xM/f0IJot8qn7o+i0iIOTvXoiLur1t5T2qf8h9W8RcAWrkmExMfFCw==
  template:
    metadata:
      creationTimestamp: null
      name: service-bus-creds
      namespace: doc-index-updater
---
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  creationTimestamp: null
  name: storage-creds
  namespace: doc-index-updater
spec:
  encryptedData:
    account: AgDHr5GurE4F7X7gQKHDD5lJZQfULLkFZAfRKjn3faWH8aoA0KOYa+oEvDvLDXxQVQha8KijfiKygGhyPKey1AIpVFO4uRbjcLCgmPVKNMhD1SaedtSSBOWd+RtNq9Cnf/xsPSVLWc0lSk2glqwCbIERQD3w+nDJjeQQz6dWKFr8vQg/oFmRbuXmEhhez2Ec6PxIMrVkAv+1jReoVMNW+UmVBdBTem8aftGYvGLeTt2OhzCUQFSIIiEFGT9WsC82ovnVkFGn89fo30Ft0eTaip3sMjP2OgjpVWg3nq2MdKp6P+4JxiLTYVtfgh2kcjEatFiNqzL/iXC+qilCmcR8/c/cq5eZXK623G2qEN7iYzPSdO+4tYatr0ToTujQ/EWtWIJnmlCJyKKqzRb2WRMHy98xp00BVZyiAb9arUuoxS98gSedsXRe5apy3Q92IDSPk6T9kwUOo13aiA84QCeOBGqlBoVtgnAeukhuLLYB+lMtxNth859Rub+yRA7feKh8BL4I4neLqCVLAhYyokfycGnAspbgvWfBOOT7nfDQBy0r1kZO8SMpl39YFzhwM26P0zXOPYNcJEEONE0YqEOn8BeCG5uj4mhTyl8vYn8TaDUEIpIrRsrI34wZKq8hrdhNNWx9Pdrn+xvWYfogOKvodd6Ppg/rDXMHeYvDdBVp75gv5Q4xsisI8et8r4L8eBrHZhSl+bUfpL1aMyWbdBl/m0FAjHAq
    container: AgADlV2x/sVqj01CGjzDkGeu/XdXjtfuBuC7CKVAgCFd0Y2Mbs3bfvA3ioCsxu+EBnhqL6bcyFjpXGEu5CyQbfFduVuKJOQKZGbO+tDJfFstHWvLM7rIszccKmqWwh0CN+M05GK/jmeMpi81TgqOUj0r7/3SA/rkHIGvs0fS8goQEUCH5pNdZvJehXMdOhOHWaOZihC6Q7DphgCJHu6n2YwOYRosclE0F5zSJ8CDoAMbFfy66KNVnP6vfsRLOJ4W1ldnh8bIgYHAjJX8lT6Z4jelJYt04JKx9TFbiCPfhOEXfldZPd1XOmNhtSKNlHW/dGejL3aflUgF3JD4wrES4ZxgBqoy6yn9AzvH2BX7KaZza1Um5f9K6K7dNMR9/VqhNkpHYKjNeqA8eMGCRgvxn78VtU+u6XW2ptX2mcxmIOoS5grMPhOmAU233GlazcLoDylOsc237mI+D3gtWC+m0pNYLa3J0TFtDM5vHU1y33p/rJJY0gbWWOf+nA9lFDG9Jnrl6VqJdEBJlf0dpgMG9qc5FhzwhOeMtaOQ8pBgHnYrSAtC3CV/q3I+EHMrdyflPjwaF4LA5t3n3G/1cS6623zq/lW6ybKwO2KiBoUoMNqSl3S7/IEWw7fbyUxTXzdKaQGGaStOKVwSykZ027r1/5Kx6GNSVB8faEyoSyEinPRb6wq9q+yDME26CceVnbBZzrNp5vvP
    container_temporary: AgCWRhnnhVnb09NN0JCyOjz/kq5yVugAz46uJghBKRQc2Do4nI2vr1ymVZAJjBIsVZ+UxPhHI9+jZQevet/OBTuJnRBh0JogAn+9BV4D/e81lT875J4qhncLsawV4XeCxc6CW0hHeixurv4wj8lT9E4lLuY9AAOIRKEnRZFkqU4sO4lWtRoCJpkSad9Ti+N5sDPdikyj+WreKiXP15jLWyX0z74SG2+Ubeqym+kZLjcQt8Ogi1FNm3MJ3DrvbROaQCBDUFHk1wFWB/1qAH8G7d6qoDiAlxU+XHTyndAFytenLdN/8xm1nlSSgZ4e4jTF7IHYOPC82wIH+8UwEx0LvFa32XvLVCl21o9a0w0TIIme4APEQHfwd40BziQcef77p02p3e2+t459+jb0nFu/ytd4rhV/xYqJPxohtSN4zUO0RFei5jptcChArR35c8IIsWQDER0yxs1Gukay2Aa5WWP2j6WV8/1RfNbB8peZEUV59ef0lBwRb0qu+vPxjG8PkoJyGUV/uEohl9Ya4IZnPPCvWdRep/acFUYs7xCGfnttP5nSm06Sa/1rPQG3nmy4JDr7QQbG84WqQbOO4+Boq3qYQPE4daLbQWSEnoK0ccKyl4iaOWsTvQCW8lclZrF18sQ91Jir8ojvqgOjhL80tFC5wdzxD+k3tXHBRAfjwwuXmVUy70JoorvAlFXBTdizgRL9te7xQMtQrUM7HOgcAw==
    key: AgBG0av8OMQybPlc3K3EObo8xl8Nf2KaZksmDUB8653GirguPoXjE55WAovKBpzFglGD5ICgONmCkDuqlvGmeqarQ0NTCGZn9nEzuvJdl8cxMhfbg8nqKBzyxlZ4+7Ql75ys4UoHDXeVxFocUieDSmKhuc37w+jaQf+jSxDKIC9sd3U3ORE/zgH8afUjyQkQElj1WmAeJIqAtbkJ+p78QQDt3Lo8OUF8NCaLQYedhQhO65zmel6FXPAojnd4e7jbh7vv1eejRdy4T+TwOv7YOp90exMfev9RByqpzhlM8g99QrAAKqxp3K90vVhVmjlmcri8ZVVa/rxsfnODxjyd/1gITwzNXjEcw1lwc45rB4ehHhmGCG/M3qAPRkAaeBMn7cTj7+ozsSD4eK0vSszcesZSuodCjsH+Uwv2yi7kSELBoGNlO9I6VMW1Re8rHw4rox3QXSQX8MT8OkpJR8rC8Ox41y295/IxUGg4aYZ7WG9Ac7KnY8ZKwwt4V1XFH5zS/mWq835W0jxInjPMM1BCKtyKOSUKZnkrPCqGKs11xffp4//Sh8OieYPfnd1aWf/o+psT/bzQWEEVTMU0rpRqiDyZWBaZ+xjTS3Kz7pdX5lrYfyRPTfWTpLc2Hn4uPFuz/fLzk16tEIfGeXe6K08skH67CSd3bXY+SXxQlzB6PT3LrGXZKGvbLRfTE0XNEGQHxEbiIJwcBwqVKv7pQczPuiCiHuNYLr3f4azDWRholkLv5MSMkTOidsqfQ02bh+lrZIdQDX+nCC53V6ZPrMDYDRicAeVcEycQH1j5dp0KuKKKx4ZPVrqOcC7w
  template:
    metadata:
      creationTimestamp: null
      name: storage-creds
      namespace: doc-index-updater
status: {}
---
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  creationTimestamp: null
  name: test-mhra-gov-uk-cert
  namespace: istio-system
spec:
  encryptedData:
    tls.crt: AgAvWmgkB9Q4QTylla4q/MhTT4lgQIn1ceyvbOb/rr1FICxK9Z7e3RKsdkx/H+upb+uSQiFcCfD1kEUyUH5+iT/9D8R3KUHoqECCHLgCjfuQCmymjDM3PTH/tdpLMl+SVUh7H7qP/xXQ0qZDbQUXCW99suy4Gfi/0ikssfYnyf3D/EPlIYKLI8Nh6gsxbWCumFpjvUj7VntQIuCuPdA540PCe6ou9ehxAdKgFvF8y1NuYHm4dS97zHNuCi0lp7aq8dUpNEQLWW/Pjw0BLXJKke2SW6kz8PMPcs542vWI4ncBvhQ+CLHxjF7EVKuWdVj7Y0GdPZRFMj3eUTKYCB/GHIUvFjjrReo1zQMJEAig1vgwFT68t498k8fPK2GDPTl5mVkhssCoMUgUcB1NqdrvIOFchZxSyhgEHgIjV7jukGTdUVQwdIAATKYzs0g5GoOrK2dv4kGHX5oyZaKwSi7YyE4AZtrc8yO3FPJLYHUOrSV56chcU1jKRW7AJ3TYyDPi3BZV2VZ6GGfobUcgxCYHfcd6KBaefeCkBBZv8/awCak/KYo6gUc6+9FFb9+WCwfpXk2NkDUu0+j9/ybBAX4X19v7CWSwLCyp5IBwS8tM208GcpGlRbn8wEb2tRnalKC0Rk2OYom7TZ/40OXXf7iHfejg6oQY1KEeAJr0rdYPTFAjfG6ZcgkQKe3ZR8hm67HEwpA3g2L3DlPw8UMp86yeovOOsuMcKtM30jhR6r/Vek2OKYSXeoxDc652x2mNsQvWlMbImiTkB8dLzsAcbPT3owalqbFLiXNvP1KTEstRCYDiydMPEJgWxLHL5CrvT2pN6VLdtRPStDdHrRFym4UPZQoPhUeaBbCQ1Mp3iqmC6Ay5LOt6foG+jg6pJISOLOW92UDiyajcu6QkLXvQwuKLCOUZsbxCXHcrx7h6DMm2Ggs3IG8c+Ic0bdgBi2QTiBQUSn3izaA9KjR0mcsipR4zfF2IFo/SmmL1LqNg94unkKTDoU/4he9yKCQ4AeyASqqRTPEzmrbpdoL2pdb9VMFGMPAeKcJV3XVuRqL5vqpSPQtqFcIeHyxxR4/Nb85LgiaIbXZWtpn6RtNOzvwAkKu0TKLeOP9KL5Et+wCtqsH5cMGaXMz72glAYVkJexl38ruQw7fa/Xxgbdii5krC7B5HXJX2YyAwhw3c1J5a2YCMX5sztcDyEDz5ObTeiroRREIRertKQiSoYwQvKf6lu5E73/htGpXWFOu0jhc9hy0dFQ2rqs9ULXMxj24wfPTdigl0STYkrb/a7gscTbjoOwOAitwylhpSLraFSpUrhcg/mlb/r3Zhwy2i0a9RIiwPgEeEDrlf7Ic4TudBhdotRjl29VeLongPOQcWh1pgntTSP+XFUUnq5EwuPVu0qBrsWC0ahP6Uw48y1KtnRQRsJaaBW85gJr8t5qgH7Z6dprk1KEq1+9b2FO/Qal4+lth2UqiYjZ8v7ucJihctPo5VBUonygwgOMRzJGmFq6qeJwmHFehPDYC3f92tdNEKD7vDiIaRUGpSnq37lJKf8L+vYOQb6OVUvZZNrdBsGsQw5C1+nwt24YTn6JqpyMMHmc/jJmdNuNzzSdOgn2cFBSHCbra995D6x5iKXTNwcIpFb2AkaPLc7zf/C/BuapGzPQeFNRSGTVURACjKlPkXh8oE0JXo4Spw4qf4zWIofd7zHINKVIv+LW+UiJH2VYzvKC8dXyvClmG4nmalw3v1803MsOUit08woZE4NT3qT9LfsWQ3O7sHunhtflb0qcgITqf2KiUvbYUe7OCf927cEGk/5gNowfKgDJA2HAk0EojHT4X25d9aBjyfxAusrjrI8g5vL8N/ao9u7ie6b6No1k4sQUsLXnmR5KPmAe65LU9+4O1OJLcngl5Zh9E92FoMyQY7xM8nXsiB+sjm9nt0RQKS29sDSIq/zGHFCm9zzpvsTKEI45aRyl/NZyIb4ZxIQyvCP/PVfkN/nZ4+dAM83EEHhPicXEWxjPMx3oiANNZSltWelxhLAB0/wOOB3yQ2BRx6qd0qz0dNBwa7i5m4Ph4GEbtcVVDkFHgJp9YCYI3RWu30sOBIcENxlMXtShkRzgy//f/y2G09pBTXbKsCX40bGfBE0FjDKCjO+utthQTM4uM1Q8CfAF10rrF+14GCUvcITo+n1cMJb7nQnrgwqv2Oy+ikRcByl8HxNWvgq/is/U3FMToYWh7NBqz7Yi/8j0ynhGqJQuGBftKMEZxfKyawwK6lrhF7Uv+yK1bIoyHHDS5SdQQt167WQ8jMv6s6KYe5E4pFemNgzeM9Bywq912GNdPkbPNsLILaQE+7u+yC8QuTcnqkB7OBsQUXlg6RIHZa16pXc6J8HX6nQqlE/mVWYtP6parN8hBz/U9vbcXeMfguCTQXygCZvxzZCO4oMd/Hid5qTiZC5EhR7B0DmP86VZifGt77JAkm2l62cC1lLUzTPctZrUOsV4vnGhgyMSvnTY9xIv1Gl5TOq24hEs+bb3D89eQeMWekhNJ8aLcTV0P3lsfraA9RK6pUq972dAk+nwt/Jno5UNVPHSxcLQR0XnvxxQuEXWkMDDKAzyvzfTwcMnzX97JF2VTJF13thh+N3exUrCSW08tT3XzYR1swG6+CwryF/VLGWSJQK4msjdtqA+zj6yW9X9Kqjjbbes4a7GjYT2d6Lb6ilLkfQE/GqO/GHUdinZMzKAe3KDMTtDMsnOXztVdOl85bJ7I3rlz0xyFSRixDhx/Uk9IYPj1or72jeHzkZSDg6bSeMlBYukLi6X944q3YdS9kAfxorf4f5q3/yxma5O4ymWFny7+RFjZZ9Po5+GD8U3Vunbar7KPHK7BFdRo9pF38+seIpBQpkyvqC9ErsImfyW5fDHv2EKWcUwv/1aXHOzngxUhma/LJqnogZ25Qu30f8n+9YbcjwY82j4feHgBqqhmbKFsG8LyL5mW6veXHW/8VV7ZOHnG+XrdaoFhCyQCoxydEGPYeORq1933KHt5vLeYSDRuRaQLY4+Oe5RAWP/8WICtHv+GsTJ5lFDYYTWLluc48sE2SobvrKQfY1I6Ypa8AA7VSgHdQpHSUdREUCZvDXjk9lugsbKdTMO2ky22xjOLdD/ys/WK0EtUqGlgIJCjJ4caYeIO6fs+5fhFbhAFq24PfwYQZIwcqo8c73vJAk1m6PQ1ZmQBSOh+gkt5g2z+ybsW1I2nZfi1ZepsyIYNc5PBU+JCWJppbLi+L/xL+E2scAHaLwHKh7XShULjqEcHmi1E02/EhKrzlpM83xHKkeZCSRF+2K0PoH2k9Gp2DBPCAn8HD83alstTNzSNLqJyJq0NSwIefsmh0C7Bp7Jx01bdjdu+TcgsoOD3zmO04aU223bwJgeCynjGcnoL1ZHCm6CBpTkcXLZpKldfA0jCuypO7lm1ym2RGfEOCgbOVzKt4aLewbDoo/8+OF2jCktDG+6SPYCCcX66AtVWE2f6K1g8h29ZhRyJXEcPKth3G8kRGW1+y64LR4H4gl5L6RZDylDNYWFJ+Svp4ozyTzlN9eUtkR9/uVfqAI30xNB3wE7Y1h8IvJfMglQ8fpgVhlAvFmZil8D1CtJG7mJz+SmL86K+jN5EsX0GHpRioZdHyn2RzLS27g+j2hPJ0n6SFez40wX1Meo5Kf7nqfrjm7DmLEf1cZaFsca2cNkeG2g3IVSk2afQN4SBqGk9KAub4L0eVNl05Mn6tubnfiU18/eVG6ypoLVzJFjXLP8I7gDVWxOkw4ojo9RsiAuu5vzHTC2hSU1ogWzSWYWvgX3qavwKysK+sXU121i2BHlynJLnhIozq/HsG6/7zRRMcCYSFSxygMnX8mkhFpXFp95nwCsrBkJJopqnsrlINswy5BnjkDj7oEQd3Yp1cflAkv8k/8nVBI82gJmT2LmU22gxyRUaI4Pdya6K9mfYA3/0mH4YBPL6mL/nq8r7pYYHFPVftqikIV4DuxrTQ6BfDRmPAHF4GjzwrphYyVo9HoqYrLgHwFVJMpUYA+KxzZT5i0Atk9htZCdSkBY/2MmYOt/ZT6mZPHDzeuLW7NXLkRoit1b8oZzPzX93xnp7DbSWPNou8cTrzF+vMTtM1uYkkePVbtXSsx/6AqkPuH2fEGXM0I2LZBeFEKGrzs/p9upCjoIBERq6d/6sjGK9XZzGhuF3GLSub+Xq/iX5lwJqZH9koCtsvv2Aul5fiU2HcBWCO4JA1tDg1I43RyrWkokUQYjZ60w2nC8E1Z9uyfAmZ4NfiA4Nbmk4+c2KNkvZ++oTaJDDQioz+qP5ikxDDc1HA1eGkaG+yw6FgTrPfIUCs9Zx/87pzSSg0StYQU/UsFmpDKBH5h67cF9rXLLiP2ZvVY4So9KGWF0Cb368Tiix2NnztQ9JNSsDwoKwa5VKqpvK42MOVP950D2txk+H1wrRR966yfTttw+SZez/OqGBJ84HWmm8EGD/Ou2+EY9k6YPEbDZQMERiTbi6vseG2e1D8Q9MwD/1oh+SN68zDWkBktbyQAEXA/ea/11cl+dQ9N2ouBAUxgxHA+4AzhI7x8TZxjtIn0rMDA2yBt5tg+nVYCktuZTy61e3xg4zIZuwHqnO1bncWdYiSWUGA5gaGIjWOHpsxqDfdmxvasa8pua021829D5vvLrGW48ZnVc4FHMpld0wTePYL9W6uAVpanMGSWxsMbHnKE6Q4vcrYM5XyAORy778eVj+AiXhwGfn7jzKLiZfDQTkDeQa4Cyej790qe0lkVpQnqj4hMc3tiFGdCXhWEHOrGSs00hWk5i71Yglk2CgZZ6PixwvS2XRjPdgatiTHUzrHLoLiemuhsM+n+pVx/OaDV2QQ4iBG534vMkw6w8JJ16qxT6/A0U++//ZbrTAsKmYliwOYMemCCRPrO79VUNv7bPKNNVzTlWFk7q70E55dHFmZS+G/xivLERrlr+MIjJvsg5Z7jysbIu0TQN3oAQoU0X6/PcK2VuV1XWJudtvZ9MSIJaq62fATZeG2+N2gsUo2ZFsbaTb146FGODh61yWg1iuSZSenzXLNjW/BO4znmQa1W/uFQajYgRkfnRvRSdl8JHl2yYniwJv2ljrYTk8M8oTX/R2U2c6mI4c2rUfceck8guUAQtjhVnot24G15wAa+IsThtSl+V9Zy3N7aD9iIz8CZibiyVO4ZDWOlbnJCcbhjU6Ojw6XEdPgeLFf1Y7daVvhoU8tqFKPUTZFI7idN7649GIGJjkXk5SOC1FwYavI/V1jZmnn3g2oij5Yn81c3bTlLi8NIFumR5fmKN9Uoc9jPvQwwyv36X+ls07QDYNxJ29v5OzKE2kD+Xr2uaXlwexaRjIQJ57rtLdvWsy1SFfKtACvKpc5tfttTX8gce/HRNpaPlDQIfKWwLCcsRg2E/xoTaUXDZ90ElHyZaTNl2DIC65ahWMWD+Ut4Jf49bRWB/2R75hVun+Hq2DlvzVVtRiyJkVGHlArTFzdQ96x947gYM3Ohc2kGkq+eOsR++lXl23hKbYdzWhZhvglMpTyrMzCXHps0Is3HMBt8aWTXjLbcAKn4sviCDiUbBh7hFbYdHJXXDsvgU8FnkiJLAVZ/gdZiLy8cxFvW/PTDBL2TyYzB6ACjUKsvNkqHQ7l6uPaFP/65/WfBzsIA2i+tSkFBHFiq66FwdHav6mCxDdnAs0gIpmu5G9if0nUtRyTCZ4faBtJXe+kklFBgLVQ3FG5EAjELoSmiC5D/QNgVQTQSHXb5pljvmUKfvvOuuviK7jB+O9+DxctDD8MPac7oz6eBVQr1fAfhjgBOjTvebwsUaKNogin8dx4FEjG5ZclKwDwHBn7q5s+dws+EYpJrTkFzuWAY/df6yEHOzbEsYcWLv620Et5niAKMtDE4uWtB6T5PjdFozm5CrQbRG71Okg6dwr6NoGyJLHRcu7XZF51oc4sikMgbnGe8hw3hHM1RwRDJzYteTqKoWLi49m3r0a8PQ8EQVjtyG48EoXTcjHixReWae+sHWeUwOqCZEWsPWF4wot+bckSSaA5AAjt5syAAlsUSrf/bQKJLIi8s+W92OTCLvo03Cy6yp2Bigg86GhVDCni7IjOiY+aDu9Uzkf2Aj1rDg7iaKZivPJEYU2ylPEZu54Hc81m/n/EhNMjv1kFlGMX9YUHMatjh20DPiNWNO0pObaze6UZ+HO3YVcvwaTsrkRUconGrOCd59ygNYn/YsGVMhn2X9RZwwgDZrMDBEiq0o9BoLhezuuJQL+r+pLUaexlW1jufOqtVurQViQaxP1HYTHsNBsnUVcrbRD2kH/ivsbNgjBp4adoXTbUBR4PVFG63fs=
    tls.key: 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
  template:
    metadata:
      creationTimestamp: null
      name: test-mhra-gov-uk-cert
      namespace: istio-system
    type: kubernetes.io/tls
status: {}
---
apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: cert-doc-index-updater
  namespace: istio-system
spec:
  dnsNames:
  - doc-index-updater.non-prod.mhra.gov.uk
  issuerRef:
    kind: ClusterIssuer
    name: production
  secretName: cert-doc-index-updater
---
apiVersion: networking.istio.io/v1alpha3
kind: Gateway
metadata:
  name: doc-index-updater-ingressgateway
  namespace: istio-system
spec:
  servers:
  - hosts:
    - doc-index-updater.non-prod.mhra.gov.uk
    port:
      name: https-443-non-prod-mhra-gov-uk
      number: 443
      protocol: HTTPS
    tls:
      credentialName: cert-doc-index-updater
      mode: SIMPLE
  - hosts:
    - doc-index-updater.test.mhra.gov.uk
    port:
      name: https-443-test-mhra-gov-uk
      number: 443
      protocol: HTTPS
    tls:
      credentialName: test-mhra-gov-uk-cert
      mode: SIMPLE
---
apiVersion: networking.istio.io/v1beta1
kind: VirtualService
metadata:
  name: doc-index-updater
  namespace: doc-index-updater
spec:
  gateways:
  - istio-system/doc-index-updater-ingressgateway
  hosts:
  - doc-index-updater.non-prod.mhra.gov.uk
  - doc-index-updater.test.mhra.gov.uk
  http:
  - corsPolicy:
      allowCredentials: false
      allowHeaders:
      - Authorization
      - username
      allowMethods:
      - POST
      allowOrigins:
      - prefix: https://mhraparsnonprod.azureedge.net
      - prefix: https://mhraparsnonprod.z33.web.core.windows.net
      - prefix: http://localhost:3000
      maxAge: 24h
    route:
    - destination:
        host: doc-index-updater
        port:
          number: 80
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: doc-index-updater
  namespace: doc-index-updater
spec:
  action: ALLOW
  rules:
  - to:
    - operation:
        notPaths:
        - /pars
        - /pars/*
  - to:
    - operation:
        methods:
        - OPTIONS
        paths:
        - /pars
        - /pars/*
  - from:
    - source:
        requestPrincipals:
        - '*'
    to:
    - operation:
        paths:
        - /pars
        - /pars/*
  selector:
    matchLabels:
      app: doc-index-updater
---
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: doc-index-updater-deny
  namespace: doc-index-updater
spec:
  action: DENY
  rules:
  - from:
    - source:
        notPrincipals:
        - cluster.local/ns/istio-system/sa/istio-ingressgateway-service-account
        - cluster.local/ns/istio-system/sa/istio-ingressgateway-internal-service-account
    to:
    - operation:
        notPaths:
        - /healthz
---
apiVersion: security.istio.io/v1beta1
kind: RequestAuthentication
metadata:
  name: doc-index-updater
  namespace: doc-index-updater
spec:
  jwtRules:
  - audiences:
    - ac2b59e9-77ca-4d39-8186-b96d305c9aae
    issuer: https://login.microsoftonline.com/e527ea5c-6258-4cd2-a27f-8bd237ec4c26/v2.0
    jwksUri: https://login.microsoftonline.com/e527ea5c-6258-4cd2-a27f-8bd237ec4c26/discovery/v2.0/keys
  selector:
    matchLabels:
      app: doc-index-updater
